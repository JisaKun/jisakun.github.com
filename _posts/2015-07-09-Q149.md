---
layout: post
title: "Q149 Max Points on a Line "
date: 2015-07-09
tags: Hash_Table Math 
categories: Leetcode
published: true

---
#### Problem Link:[Max Points on a Line ](https://leetcode.com/problems/max-points-on-a-line/) 

#### Solution 1 Hash Table 

##### Idea:

Use hash table. Do not forget to overload the operators. 
   
##### Time Complexity:
O(n^2)

##### Space Complexity:
O(n)

##### Source code:
{% highlight C++ %}

/**
 * Definition for a point.
 * struct Point {
 *     int x;
 *     int y;
 *     Point() : x(0), y(0) {}
 *     Point(int a, int b) : x(a), y(b) {}
 * };
 */

struct Line {
    double k;
    double b;
    Line(Point p1, Point p2){
        k = p1.x == p2.x ? 1e20 : ((p1.y - p2.y) * 1.0 / (p1.x - p2.x));
        b = p1.x == p2.x ? p1.x : (p1.y - k * p1.x);
    } 
};

bool operator < (const Line & l1, const Line & l2){
    return l1.k == l2.k ? l1.b < l2.b : l1.k < l2.k;
}

bool operator == (const Line & l1, const Line & l2){
    return l1.k == l2.k && l1.b == l2.b;
}

class Solution {
public:
    int maxPoints(vector<Point>& points) {
        map<Line, set<Point*>> mp;
        int ans = 0;
        for (auto & i : points)
            for (auto & j : points){
                Line l(i, j);
                mp[l].insert(&i);
                mp[l].insert(&j);
            }
        for (auto i : mp)
            ans = max(ans, (int)i.second.size());
        return ans;
    }
};

{% endhighlight %}

---

